<!doctype html>
<html lang="zh-TW">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="在本主題中，您將學習如何使用伺服器端廣告插入 (SSAI) API 來建立和管理廣告設定。">
  
  <title>視訊雲端 SSAI 配置 API</title>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">  
  <link data-react-helmet="true" rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500&amp;display=swap">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/prism.css">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/styles.css">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/landing-page.css">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/tabs.css">
  <link rel="stylesheet" href="/assets/css/local.css">
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/381443caa8.js" crossorigin="anonymous"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/google-analytics.js"></script>
  <script src="/assets/js/sajari-head.js"></script>
</head>

<body class="body">

<header>
  <div class="div-header">
    <a href="/"><span class="product-logo" style="font-family:'Balto Web','Public Sans';font-size:2em;font-weight:bold;">布萊特灣三世<sup>™</sup></span></a>
<!-- GTranslate: https://gtranslate.io/ -->
<select onchange="doGTranslate(this);"><option value="">選擇語言</option><option value="en|en" translate="No">English</option><option value="en|zh-TW" translate="No">繁體中文</option><option value="en|fr" translate="No">Français</option><option value="en|de" translate="No">Deutsche</option><option value="en|ja" translate="No">日本語</option><option value="en|ko" translate="No">한국어</option><option value="en|es" translate="No">Español</option></select>

<script>
/* <![CDATA[ */
function doGTranslate(lang_pair) {if(lang_pair.value)lang_pair=lang_pair.value;if(lang_pair=='')return;var lang=lang_pair.split('|')[1];var plang=location.hostname.split('.')[0];if(plang.length !=2 && plang.toLowerCase() != 'zh-cn' && plang.toLowerCase() != 'zh-tw')plang='en';location.href=location.protocol+'//'+(lang == 'en' ? '' : lang+'.')+location.hostname.replace('www.', '').replace(RegExp('^' + plang + '\\.'), '')+location.pathname+location.search;}
/* ]]> */
</script>

    <select id="site_select" class="bcls-select" style="margin-right: 1rem;">
      <option value="">其他布萊特灣文件</option>
      
        
          <option value="https://support.brightcove.com">文件首頁</option>
        
      
        
          <option value="https://audience.support.brightcove.com">布萊特灣觀眾</option>
        
      
        
          <option value="https://beacon.support.brightcove.com">布萊特灣燈塔</option>
        
      
        
          <option value="https://campaign.support.brightcove.com">布萊特灣戰役</option>
        
      
        
          <option value="https://engage.support.brightcove.com">布萊特灣參與</option>
        
      
        
          <option value="https://live.support.brightcove.com">Brightcove Live</option>
        
      
        
          <option value="https://gallery.support.brightcove.com">Brightcove 圖庫</option>
        
      
        
          <option value="https://ssai.support.brightcove.com">布萊特灣</option>
        
      
        
          <option value="https://social.support.brightcove.com">布萊特灣社會</option>
        
      
        
          <option value="https://studio.support.brightcove.com">視訊雲端工作室</option>
        
      
        
          <option value="https://player.support.brightcove.com">布萊特灣球員開發</option>
        
      
        
          <option value="https://apis.support.brightcove.com">視訊雲端平台 API</option>
        
      
        
          <option value="https://sdks.support.brightcove.com">視訊雲端裝置開發套件</option>
        
      
        
          <option value="https://integrations.support.brightcove.com">整合與 CMS 連接器</option>
        
      
        
          <option value="https://general.support.brightcove.com">視訊雲端一般資訊</option>
        
      
        
          <option value="https://zencoder.support.brightcove.com">Zencoder</option>
        
      
    </select>


    <span class="secondary-nav"><a href="https://supportportal.brightcove.com/s/login/?"><img src="https://support.brightcove.com/site-assets/images/site/support.png" alt="支持"/>聯繫支持</a><span style="vertical-align: top;margin-left:1em;margin-right:1em;">|</span><a href="https://status.brightcove.com/"><img src="https://support.brightcove.com/site-assets/images/site/status.png" alt="系統狀態"/>系統狀況</a></span><br/>
    
  </div>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb arr-right">
      
      <li class="breadcrumb-item"><a href="/">首頁</a></li>
      
      
      
      <li class="breadcrumb-item"><a href="/vod/guides/">隨選視訊</a></li>
      
      <li class="breadcrumb-item active" aria-current="page">視訊雲端 SSAI 配置 API</li>
    </ol>
  </nav>
</header>
<div class="container">
    <div class="row">
      <div class="col-sm-3 left-side-bar">
        <nav class="sidenav" id="side_nav">
          
            
            <h5><a href="/index.html">首頁</a></h5>
            
          
            
              <h5 class="submenu-header"><a href="/getting-started/index.html">開始使<strong>用 + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/getting-started/video-cloud-ssai-overview.html">SAI 概要</a></li>
                  
                
                  
                    <li><a href="https://studio.support.brightcove.com/admin/configuring-server-side-ad-settings.html">設定伺服器端廣告設定</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/vod/guides/index.html">隨選視訊指南<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="https://player.support.brightcove.com/plugins/implementing-server-side-ads-brightcove-player.html">與布萊特灣玩家一起實施 SSAI </a></li>
                  
                
                  
                    <li><a href="https://sdks.support.brightcove.com/features/implementing-server-side-ads-native-player-sdks.html">使用原生開發套件實作 SSAI </a></li>
                  
                
                  
                    <li><a href="/vod/guides/ssai-ad-block-detection-and-auto-failover.html">：廣告區塊偵測與自動容錯移轉</a></li>
                  
                
                  
                    <li><a href="/vod/guides/video-cloud-ssai-ad-config-api.html">視訊雲端 SSAI 配置 API </a></li>
                  
                
                  
                    <li><a href="/vod/guides/ad-error-beacons-ssai.html">SSAI 的廣告錯誤信標</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/vod/references/index.html">隨選視訊參考資料<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/vod/references/reference.html">SAI API 參考資料</a></li>
                  
                
                  
                    <li><a href="/vod/references/ssai-api-error-reference.html">SAI API 錯誤參考</a></li>
                  
                
                  
                    <li><a href="https://player.support.brightcove.com/plugins/changelog/server-side-ads-plugin-changelog.html">伺服器端廣告外掛程式變更記錄</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/live/guides/index.html">即時參考線<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="https://live.support.brightcove.com/live-module/implementing-server-side-ads-live-module.html">在即時模組中實施 SSAI </a></li>
                  
                
                  
                    <li><a href="https://live.support.brightcove.com/live-api/ssai/live-api-server-side-ad-insertion-ssai.html">布萊特灣即時 API：伺服器端廣告插入 (SSAI) </a></li>
                  
                
                  
                    <li><a href="https://live.support.brightcove.com/live-api/ssai/live-api-cue-points-and-ad-beacons-ssai.html">即時 API：提示點和廣告信標與 SSAI </a></li>
                  
                
                  
                    <li><a href="https://player.support.brightcove.com/advertising/client-side-preroll-with-live-ssai.html">使用即時 SSAI 的客戶端預售廣告</a></li>
                  
                
                  
                    <li><a href="/live/guides/overview-player-enhancements-live-ssai.html">概述：即時 SSAI 的玩家增強功能</a></li>
                  
                
                  
                    <li><a href="/live/guides/implementing-player-enhancements-live-ssai.html">實作即時 SSAI 的播放器增強功能</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/live/references/index.html">即時參考<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/live/references/reference.html">即時 API 參考</a></li>
                  
                
                  
                    <li><a href="https://live.support.brightcove.com/live-api/references/live-api-error-messages.html">即時 API：錯誤訊息</a></li>
                  
                
                  
                    <li><a href="https://live.support.brightcove.com/release-notes/live-api-release-notes.html">即時 API 發行紀錄</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/support/index.html">開發人員支援<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/support/brightcove-answer.html">布萊特灣答案</a></li>
                  
                
                  
                    <li><a href="/support/viewing-brightcove-system-status-page.html">檢視布萊特灣系統狀態頁面</a></li>
                  
                
                  
                    <li><a href="/support/contact-sales.html">聯絡銷售人員</a></li>
                  
                
                  
                    <li><a href="/support/opening-case-with-brightcove-support.html">開啟支援案例</a></li>
                  
                
              </ul>
            
          
      </nav>
    </div>
    <div class="col-lg-7" style="background-color: white;color: #333333;margin-top: -1em;margin-bottom: -1em;padding-bottom:1em;">
  <!-- bootstrap layout -->

<p id="bc_veggie_burger_wrapper" style="display: none;"><img id="bc_veggie_burger" src="/assets/images/feather/menu.svg" alt="導覽功能表"/></p>

<!-- search bar -->
<div id="nav-search-box" style="margin-top: 1rem;"></div>
<!-- in-page navigation for narrow screens -->
<details class="centered-inpage-nav" id="centered_inpage_nav">
  <summary><h6 class="toc">頁面內容</h6></summary>
  <nav id="centered_toc"></nav>
  <ul id="centered_in_page_toc" class="list-none"></ul>
</details>
<!-- open in new tab/window -->
<a id="open_new_tab" href="#" target="_blank" style="display: none;"><img src="/assets/images/feather/external-link.svg" alt="在新分頁中開啟" style="margin-top:4em;width: 1.5em;"/></a>



  
    


<h1>視訊雲端 SSAI 配置 API</h1>
<article class="bcls-article">
  <summary>在本主題中，您將學習如何使用伺服器端廣告插入 (SSAI) API 來建立和管理廣告設定。</summary>

<section id="top" class="bcls-section">
<p>廣告組態可定義 SSAI 播放的各個層面，包括廣告通話、信標和其他組態選項。一個帳戶可以有多個配置，目前的配置無法在帳戶之間共享。</p>

<aside class="bcls-aside bcls-aside--tip">您可以輕鬆地從Video Cloud Studio創建，列出和刪除廣告配置。如需詳細資訊，請參閱設<a href="https://studio.support.brightcove.com/admin/configuring-server-side-ad-settings.html">定伺服器端廣告設定</a>文件。</aside>

<aside class="bcls-aside bcls-aside--information">注意事項：
<ul>
	<li>若要使用 SSAI，您的視訊雲端帳戶必須設定為<a href="https://studio.support.brightcove.com/general/overview-dynamic-delivery.html">動態傳遞</a>並啟用 SSAI。請連絡您的客戶經理，開始使用此功能。</li>
	<li>SSAI 可與隨選視訊 (VOD) 搭配使用，並支援即時播放。</li>
	<li>如需限制清單，請參閱<a href="/getting-started/video-cloud-ssai-overview.html#Limitations"> SSAI 概觀</a>文件。</li>
</ul>
</aside>
</section>

<section class="bcls-section">
<h2 id="General_information">一般資訊</h2>

<p>下列資訊適用於所有 SSAI API 要求。</p>

<h3>基本網址</h3>

<p>SSAI API 的基本網址為：</p>

<pre>
<code class="language-http" translate="No">https://ssai.api.brightcove.com/v1</code></pre>

<h4>帳號路徑</h4>

<p>在所有情況下，我們都會針對特定的視訊雲端帳戶提出要求。因此，您將始終將該術語<code translate="No">accounts</code>後跟您的帳戶 ID 添加到基本 URL 中：</p>

<pre>
<code class="language-http" translate="No">https://ssai.api.brightcove.com/v1<strong>/accounts/</strong><span class="bcls-input">your account id</span></code></pre>

<h3>驗證</h3>

<p>請求的身份驗證需要一個授權標頭：</p>

<pre>
<code class="language-http" translate="No">Authorization: Bearer <span class="bcls-input">your access token</span></code></pre>

<p>這<code translate="No">access_token</code>是一個臨時的 OAuth2 訪問令牌，必須從布萊特灣 OAuth 服務獲得。如需有關如何取得用戶端認證並使用它們來擷取存取權杖的詳細資訊，請參閱<a href="https://apis.support.brightcove.com/oauth/getting-started/overview-oauth-api-v4.html"> Brightcove OAuth 概觀</a>。</p>

<h3>作業</h3>

<p>當您要求用戶端認證時，您必須指定您想要的帳戶存取或作業類型。以下是 SSAI API 目前支援的作業清單：</p>

<ul>
	<li>SSAI 資料：
	<p><code translate="No">video-cloud/ssai/read</code><br/> <code translate="No">video-cloud/ssai/all</code></p>
	</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Manage_ad_configurations">管理廣告配置</h2>

<p>該API支持以下GET和PUT請求：</p>

<ul>
	<li><a href="#List_ad_configurations">列出廣告配置</a></li>
	<li><a href="#Create_an_ad_configuration">建立廣告組態</a></li>
	<li><a href="#Get_ad_configuration_details">獲取廣告配置詳細信息</a></li>
	<li><a href="#Update_an_ad_configuration">更新廣告配置</a></li>
</ul>

<h3 id="List_ad_configurations">列出廣告配置</h3>

<p>列出為帳戶定義的廣告配置。</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>方法</th>
			<td>得到</td>
		</tr>
		<tr>
			<th>URL</th>
			<td>https://ssai.api.brightcove.com/v1/accounts/ <span class="bcls-input">您的帳號識別碼</span></td>
		</tr>
		<tr>
			<th rowspan="2">標頭</th>
			<td>授權：持有<span class="bcls-input">您的訪問令牌</span></td>
		</tr>
		<tr>
			<td>內容類型：應用程序/JSON</td>
		</tr>
	</tbody>
</table>

<p>範例回應：</p>

<pre class="line-numbers">
<code class="language-json" translate="No">[
  {
    "name": "VMAP Ad Server",
    "vmap_response_namespace": "bc",
    "config_id": "2ecc6beb-d6a4-4deb-a78e-37ac27e0f883",
    "account_id": "57838016001",
    "created_timestamp": "2017-07-24T19:28:34.976878586Z",
    "updated_timestamp": "2017-07-24T19:28:34.976878586Z",
    "ad_config": {
      "expected_ad_response": "dfp_ad_rules",
      "disable_server_beacons": false,
      "template_url": {
          "template": "http://solutions.brightcove.com/bcls/ads/simple-ad-rules?ip={{ system.ip_address }}&amp;vid={{ metadata.video_id }}&amp;ppid={{ system.unique_user_id }}&amp;p_vmap={{ url.p_vmap }}"
      }
    }
  }
]</code></pre>

<h3 id="Create_an_ad_configuration">建立廣告組態</h3>

<p>為帳戶創建廣告配置。</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>方法</th>
			<td>開機自檢</td>
		</tr>
		<tr>
			<th>URL</th>
			<td>https://ssai.api.brightcove.com/v1/accounts/ <span class="bcls-input">您的帳號識別碼</span></td>
		</tr>
		<tr>
			<th rowspan="2">標頭</th>
			<td>授權：持有<span class="bcls-input">您的訪問令牌</span></td>
		</tr>
		<tr>
			<td>內容類型：應用程序/JSON</td>
		</tr>
	</tbody>
</table>

<p>樣品體：</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
  "name": "VMAP Ad Server",
  "vmap_response_namespace": "bc",
  "ad_config": {
  	"expected_ad_response": "vast_3_0",
  	"disable_server_beacons": false,
    "round_up_cue_points": false,
  	"template_url": {
  		"template": "http://solutions.brightcove.com/bcls/ads/simple-ad-rules?ip={{ system.ip_address }}&amp;vid={{ metadata.video_id }}&amp;ppid={{ system.unique_user_id }}&amp;p_vmap={{ url.p_vmap }}"
  	}
  },
  "discontinuities": {
    "hls": [ "*" ]
  }
}</code></pre>

<h3 id="Get_ad_configuration_details">獲取廣告配置詳細信息</h3>

<p>對於帳戶，請按config ID獲取廣告配置詳細信息。</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>方法</th>
			<td>得到</td>
		</tr>
		<tr>
			<th>URL</th>
			<td>https://ssai.api.brightcove.com/v1/accounts/ <span class="bcls-input">您的帳戶碼</span> /ssai_配置/ <span class="bcls-input">您的廣告配置 ID </span></td>
		</tr>
		<tr>
			<th rowspan="2">標頭</th>
			<td>授權：持有<span class="bcls-input">您的訪問令牌</span></td>
		</tr>
		<tr>
			<td>內容類型：應用程序/JSON</td>
		</tr>
	</tbody>
</table>

<p>範例回應：</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
  "name": "VMAP Ad Server",
  "vmap_response_namespace": "bc",
  "config_id": "2ecc6beb-d6a4-4deb-a78e-37ac27e0f883",
  "account_id": "57838016001",
  "created_timestamp": "2017-07-24T19:28:34.976878586Z",
  "updated_timestamp": "2017-07-24T19:28:34.976878586Z",
  "ad_config": {
    "expected_ad_response": "dfp_ad_rules",
    "disable_server_beacons": false,
    "template_url": {
        "template": "http://solutions.brightcove.com/bcls/ads/simple-ad-rules?ip={{ system.ip_address }}&amp;vid={{ metadata.video_id }}&amp;ppid={{ system.unique_user_id }}&amp;p_vmap={{ url.p_vmap }}"
    }
  },
  "beacon_templates": [
      {
        "type": "content_start",
        "template_url": {
          "template": "https://myserver.com/beaconRX/{{metadata.video_id}}/load?position=load&amp;sid={{system.xfp.unique_user_id}}&amp;jid={{metadata.video_id}}&amp;rnd32={{sytem.random_number_32}}&amp;bid={{system.uuid}}&amp;t={{system.timestamp_utc}}&amp;ua={{system.user_agent}}&amp;ip={{system.ip_address}}&amp;ref={{system.referer}}"
        }
      },
      {
        "type": "content_midpoint",
        "template_url": {
          "template": "https://myserver.com/beaconRX/{{metadata.video_id}}/load?position=load&amp;sid={{system.xfp.unique_user_id}}&amp;jid={{metadata.video_id}}&amp;rnd32={{sytem.random_number_32}}&amp;bid={{system.uuid}}&amp;t={{system.timestamp_utc}}&amp;ua={{system.user_agent}}&amp;ip={{system.ip_address}}&amp;ref={{system.referer}}"
        }
      },
      {
        "type": "ad_start",
        "template_url": {
          "template": "https://myserver.com/beaconRX/{{metadata.video_id}}/load?position=load&amp;sid={{system.xfp.unique_user_id}}&amp;jid={{metadata.video_id}}&amp;rnd32={{sytem.random_number_32}}&amp;bid={{system.uuid}}&amp;t={{system.timestamp_utc}}&amp;ua={{system.user_agent}}&amp;ip={{system.ip_address}}&amp;ref={{system.referer}}"
        }
      },
      {
        "type": "content_complete",
        "template_url": {
          "template": "https://myserver.com/beaconRX/{{metadata.video_id}}/load?position=load&amp;sid={{system.xfp.unique_user_id}}&amp;jid={{metadata.video_id}}&amp;rnd32={{sytem.random_number_32}}&amp;bid={{system.uuid}}&amp;t={{system.timestamp_utc}}&amp;ua={{system.user_agent}}&amp;ip={{system.ip_address}}&amp;ref={{system.referer}}"
        }
      }
    ],
    "discontinuities": {
      "dash": [
        "*"
      ],
      "hls": [
        "*"
      ]
    },
    "extend_beacon_guard_ttl": true
  }
}</code></pre>

<h3 id="Update_an_ad_configuration">更新廣告設定</h3>

<p>通過配置ID更新廣告配置。</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>方法</th>
			<td>放</td>
		</tr>
		<tr>
			<th>URL</th>
			<td>https://ssai.api.brightcove.com/v1/accounts/ <span class="bcls-input">您的帳戶碼</span> /ssai_配置/ <span class="bcls-input">您的廣告配置 ID </span></td>
		</tr>
		<tr>
			<th rowspan="2">標頭</th>
			<td>授權：持有<span class="bcls-input">您的訪問令牌</span></td>
		</tr>
		<tr>
			<td>內容類型：應用程序/JSON</td>
		</tr>
		<tr>
			<th>本體範例</th>
			<td>
			<pre>
<code class="language-json" translate="No">{
    "name": "VMAP Ad Server - updated"
}</code></pre>
			</td>
		</tr>
	</tbody>
</table>

<p>範例回應：</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
  "name": "VMAP Ad Server - updated",
  "vmap_response_namespace": "bc",
  "config_id": "2ecc6beb-d6a4-4deb-a78e-37ac27e0f883",
  "account_id": "57838016001",
  "created_timestamp": "2017-07-24T19:28:34.976878586Z",
  "updated_timestamp": "2017-07-24T19:28:34.976878586Z",
  "ad_config": {
    "expected_ad_response": "dfp_ad_rules",
    "disable_server_beacons": false,
    "template_url": {
      "template": "http://solutions.brightcove.com/bcls/ads/simple-ad-rules?ip={{ system.ip_address }}&amp;vid={{ metadata.video_id }}&amp;ppid={{ system.unique_user_id }}&amp;p_vmap={{ url.p_vmap }}"
    }
  }
}</code></pre>
</section>

<section class="bcls-section">
<h2 id="Configuration_field_details">配置字段詳細信息</h2>

<p>下表定義了在請求的正文部分中使用的廣告配置字段。</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>欄位</th>
			<th>類型</th>
			<th>描述</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">name</code></td>
			<td>字串</td>
			<td>可讀名稱</td>
		</tr>
		<tr>
			<td><code translate="No">vmap_response_namespace</code></td>
			<td>字串</td>
			<td>調整VMAP輸出以使用舊的Unicorn Once名稱空間格式或使用新的Brightcove名稱空間格式。<br/><br/>值：<code translate="No">uo</code>，<code translate="No">bc</code>默認：<code translate="No">bc</code></td>
		</tr>
		<tr>
			<td><code translate="No">description</code></td>
			<td>字串</td>
			<td>可讀的描述</td>
		</tr>
		<tr>
			<td><code translate="No">ad_config.expected_ad_response</code></td>
			<td>字串</td>
			<td>使用哪種技術來解析響應。<sup><a href="#n1"> [1] </a></sup><br/><br/>值：
			<ul>
				<li><code translate="No">dfp_ad_rules</code></li>
				<li><code translate="No">dfp_vmap</code></li>
				<li><code translate="No">smart_xml</code></li>
				<li><code translate="No">vast_3_0</code></li>
			</ul>
			</td>
		</tr>
		<tr>
			<td><code translate="No">ad_config.disable_server_beacons</code></td>
			<td>布林值</td>
			<td>標記是否禁用廣告展示/信標的服務器端觸發<br/><br/>設置為<code translate="No">true</code>，SSAI將不會在服務器端觸發任何信標，並將在VMAP輸出中包括所有信標<br/><br/>設置為<code translate="No">false</code>，SSAI將觸發能夠在服務器端運行的信標，並將其無法在VMAP輸出中包含的所有信標</td>
		</tr>
		<tr>
			<td><code translate="No">ad_config.round_up_cue_points</code></td>
			<td>布林值</td>
			<td>標記在選擇附近位置插入廣告時是否舍入到下一個關鍵幀。<br/><br/>默認：<code translate="No">false</code>，它將選擇最接近所需廣告位置的關鍵幀。</td>
		</tr>
		<tr>
			<td><code translate="No">ad_config.template_url.template</code></td>
			<td>字串</td>
			<td>廣告代碼模板。可用變量將在後面的部分中介紹。</td>
		</tr>
		<tr>
			<td><code translate="No">ad_config.template_url.defaults</code></td>
			<td>物件</td>
			<td>String到String的映射，定義了在未提供url參數的情況下使用的默認值。<br/><br/>可以是文字<code translate="No">{ "url.foo": "SomeString" }</code><br/><br/>或引用另一個變量<code translate="No">{ "url.foo": "{{ metadata.title_id }}" }</code></td>
		</tr>
		<tr>
			<td><code translate="No">discontinuities.dash</code><sup><a href="#n2"> [2]</a></sup></td>
			<td>[] 字串</td>
			<td>控制傳遞多個時期破折號清單的破折號的版本。<br/><br/>設置<code translate="No">["*"]</code>為所有版本提供多期間破折號<br/><br/>空列表永遠不會<br/><br/>例：<code translate="No">["live-timeline"]</code>為直播時間線而不是hbbtv</td>
		</tr>
		<tr>
			<td><code translate="No">discontinuities.hls</code><sup><a href="#n2"> [2]</a></sup></td>
			<td>[] 字串</td>
			<td>控制不連續交付的hls版本。<br/><br/>設置<code translate="No">["*"]</code>交付時所有版本的HLS均不連續<br/><br/>空列表永遠不會<br/><br/>例：<code translate="No">["v4","v5"]</code>為v4和v5交付，但不為v3交付</td>
		</tr>
		<tr>
			<td><code translate="No">beacon_templates</code></td>
			<td>陣列</td>
			<td>要觸發的信標數組（例如：第三方信標）</td>
		</tr>
		<tr>
			<td><code translate="No">beacon_templates[].type</code></td>
			<td>字串</td>
			<td>
			<p>發射的信標類型。值：</p>

			<ul>
				<li><code translate="No">content_start</code></li>
				<li><code translate="No">content_first_quartile</code></li>
				<li><code translate="No">content_midpoint</code></li>
				<li><code translate="No">content_third_quartile</code></li>
				<li><code translate="No">content_complete</code></li>
				<li><code translate="No">content_quartiles</code></li>
				<li><code translate="No">content_interval</code></li>
				<li><code translate="No">ad_start</code></li>
				<li><code translate="No">ad_first_quartile</code></li>
				<li><code translate="No">ad_midpoint</code></li>
				<li><code translate="No">ad_third_quartile</code></li>
				<li><code translate="No">ad_complete</code></li>
				<li><code translate="No">ad_quartiles</code></li>
				<li><code translate="No">ad_break_start</code></li>
				<li><code translate="No">ad_break_end</code></li>
				<li><code translate="No">segment_start</code></li>
				<li><code translate="No">segment_end</code></li>
				<li><code translate="No">on_load</code></li>
			</ul>
			</td>
		</tr>
		<tr>
			<td><code translate="No">beacon_templates[].template_url.template</code></td>
			<td>字串</td>
			<td>信標網址模板</td>
		</tr>
		<tr>
			<td><code translate="No">extend_beacon_guard_ttl</code></td>
			<td>布林值</td>
			<td>將信標保護TTL的長度（生存時間）設置為內容會話TTL的長度。否則，默認值為1分鐘。</td>
		</tr>
	</tbody>
</table>

<aside class="bcls-aside bcls-aside--information">
<p>以下註釋指的是上表中的字段。</p>

<p id="n1"><sup>[1]</sup>當。。。的時候<code translate="No">expected_ad_response</code>被設置為<code translate="No">vast_3_0</code>，SSAI會對視頻雲中定義的每個廣告提示點進行一次VAST調用。對於VMAP和廣告規則，SSAI根據初始廣告響應中定義的廣告間隔發出請求。</p>

<p id="n2"><sup>[2]</sup>間斷性標籤表示內容視頻和廣告細分之間的幀頻編碼發生了變化。他們告訴系統重建渲染鏈。對於可擴展的SSAI，視頻播放器需要能夠播放帶有不連續標籤和包含多個週期的MPEG DASH的HLS。</p>
</aside>
</section>

<section class="bcls-section">
<h2 id="Ad_variables">廣告變數</h2>

<p>中的變量<strong>模板網址</strong>用雙大括號（<code translate="No">{{ … }}</code>），並在變量路徑的前後帶有可選的空格。所有變量都以三個名稱空間之一作為前綴：</p>

<ul>
	<li><a href="#System_variables">系統</a></li>
	<li><a href="#URL_variables">網址</a></li>
	<li><a href="#Metadata_variables">元數據</a></li>
</ul>

<h3 id="System_variables">系統變量</h3>

<p>系統變量由SSAI系統提供，並且可以是有關最終用戶或輔助變量的信息，以生成隨機值。在將值插入URL模板之前，必須先對其進行URI編碼。</p>

<p>系統變量標識為：<code translate="No">{{system.*}}</code></p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>欄位</th>
			<th>描述</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">ip_address</code></td>
			<td>一般使用者的 IP 位址</td>
		</tr>
		<tr>
			<td><code translate="No">random_number_32</code></td>
			<td>隨機32位整數</td>
		</tr>
		<tr>
			<td><code translate="No">random_guid</code></td>
			<td>隨機UUID</td>
		</tr>
		<tr>
			<td><code translate="No">referer</code></td>
			<td>最終用戶的引薦來源標頭值</td>
		</tr>
		<tr>
			<td><code translate="No">timestamp_utc</code></td>
			<td>當前時間作為Unix時間戳</td>
		</tr>
		<tr>
			<td><code translate="No">unique_user_id</code></td>
			<td>MD5 (IP 位址 + 使用者代理程式)</td>
		</tr>
		<tr>
			<td><code translate="No">unix_timestamp</code></td>
			<td>當前時間（Unix時間戳）（秒）</td>
		</tr>
		<tr>
			<td><code translate="No">user_agent</code></td>
			<td>最終用戶的User-Agent標頭值</td>
		</tr>
		<tr>
			<td><code translate="No">uuid</code></td>
			<td>隨機uuid</td>
		</tr>
		<tr>
			<td><code translate="No">x_forwarded_for</code></td>
			<td>最終用戶的X-Forwarded-For標頭值</td>
		</tr>
		<tr>
			<td><code translate="No">xfp.correlator</code></td>
			<td>隨機 64 位元整數</td>
		</tr>
		<tr>
			<td><code translate="No">xfp.ip_address</code></td>
			<td>一般使用者的 IP 位址</td>
		</tr>
		<tr>
			<td><code translate="No">xfp.unique_user_id</code></td>
			<td>MD5 (IP 位址 + 使用者代理程式)</td>
		</tr>
		<tr>
			<td><code translate="No">xfp.scor</code></td>
			<td>隨機 64 位元整數</td>
		</tr>
	</tbody>
</table>

<h3 id="URL_variables">URL變量</h3>

<p>入口點VMAP /清單上提供的查詢參數可在<code translate="No">url</code>命名空間。與其他命名空間下的變量不同，這些參數在插入模板時不會進行url編碼。如果需要對變量值進行網址編碼，然後轉到廣告提供商，則必須在入口點網址上對它們進行雙網址編碼。</p>

<p>URL變量標識為：<code translate="No">{{url.*}}</code></p>

<h3 id="Metadata_variables">元數據變量</h3>

<p>元數據變量是描述內容視頻的變量，這些變量既來自視頻雲又來自動態交付數據源。在將值插入URL模板之前，先對這些值進行URL編碼。</p>

<p>元數據變量被標識為：<code translate="No">{{metadata.*}}</code></p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>欄位</th>
			<th>描述</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">ad_keys</code></td>
			<td>可以在Video Cloud Studio媒體模塊中添加和編輯的自由格式文本字符串</td>
		</tr>
		<tr>
			<td><code translate="No">custom_fields.{field_name}</code></td>
			<td>Video Cloud自定義字段</td>
		</tr>
		<tr>
			<td><code translate="No">long_description</code></td>
			<td>視頻雲詳細說明</td>
		</tr>
		<tr>
			<td><code translate="No">name</code></td>
			<td>視頻雲視頻名稱</td>
		</tr>
		<tr>
			<td><code translate="No">reference_id</code></td>
			<td>視頻雲參考ID</td>
		</tr>
		<tr>
			<td><code translate="No">tags</code></td>
			<td>視頻的視頻雲標籤的逗號分隔列表</td>
		</tr>
		<tr>
			<td><code translate="No">title.duration</code></td>
			<td>內容持續時間（以秒為單位）</td>
		</tr>
		<tr>
			<td><code translate="No">title.id</code></td>
			<td>動態投放標題ID</td>
		</tr>
		<tr>
			<td><code translate="No">title.name</code></td>
			<td>動態投放標題名稱</td>
		</tr>
		<tr>
			<td><code translate="No">video_id</code></td>
			<td>視頻雲視頻ID</td>
		</tr>
		<tr>
			<td colspan="2"><em>其他視頻雲鍵/值對也將在此處</em></td>
		</tr>
	</tbody>
</table>
</section>

<section class="bcls-section">
<h2 id="Entrypoint_URL_parameters">入口點URL參數</h2>

<p>可以將少量查詢參數添加到SSAI入口點URL（VMAP或清單）以調整某些行為：</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th width="25%">參數</th>
			<th>描述</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">?rule=sd-only</code></td>
			<td>過濾掉任何高度小於“帳戶配置”中設置的閾值的視頻演示</td>
		</tr>
		<tr>
			<td><code translate="No">?rule=discos-enabled</code></td>
			<td>在Dash中的HLS和MultiPeriods中啟用不連續播放。優先於播放配置中的不連續性設置</td>
		</tr>
		<tr>
			<td><code translate="No">?rule=discos-disabled</code></td>
			<td>在Dash中的HLS和MultiPeriods中禁用不連續播放。優先於播放配置中的不連續性設置</td>
		</tr>
	</tbody>
</table>
</section>

<section class="bcls-section">
<h2 id="Configuration_notes">組態注意事項</h2>

<ol>
	<li>預先載入廣告不應使用 SSAI 進行。原因是，如果您預先載入，播放器將會回報廣告印象，也可能是影片播放前的第一個四分位元信標。這可能會導致不準確的廣告分析。如果您在 Studio 中配置 SSAI，這將自動完成，但如果您碰巧手動設置 SSAI，則需要注意此問題。</li>
	<li>如果網路播放程式使用 SSAI，而您這樣做的動機之一就是解決廣告封鎖程式，您應該使用伺服器端信標。不應該使用用戶端信標，因為它們將被封鎖。</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Client_side_macros">客戶端宏</h2>

<p>使用<code translate="No">page</code>要使用客戶端廣告宏時的前綴。這些宏使您可以在VMAP和服務器URL中使用變量。有關廣告宏的詳細信息，請參見<a href="https://player.support.brightcove.com/plugins/advertising-ima3-plugin.html#Ad_macros_and_the_serverUrl">廣告宏和serverURL</a>“帶有IMA3插件”廣告的“廣告”部分。</p>
<!-- <p>
              When you prefix an Ad variable with , then a client-side macro will be appended to the end of the VMAP and SRC fields in the catalog response, when SSAI is being used. Then, the Brightcove player will run those strings through the client-side macro replacement logic.
            </p> -->

<p>客戶端宏的前綴為：<code translate="No">{{page.*}}</code></p>

<p>例如，添加<code translate="No">document.referrer</code>和一個<code translate="No">pageVariable</code> DOM窗口變量，您可以給它們加上前綴<code translate="No">page</code>在廣告模板中，如下所示：</p>

<pre>
<code class="language-html" translate="No">https://adserver.com/{{page.document.referrer}}/{{page.pageVariable.whateverIwant}}</code></pre>

<p>播放API返回<code translate="No">document.referrer</code>和<code translate="No">pageVariable.whateverIwant</code>附加到VMAP和SRC URL。然後，在發送請求之前，Brightcove播放器將通過其客戶端宏替換邏輯來替換適當的值：</p>

<pre>
<code class="language-html" translate="No">https://bolt-prefix/blah.vmap?document.referrer={document.referrer}&amp;pageVariable.whateverIwant={pageVariable.whateverIwant}</code></pre>
</section>

<section class="bcls-section">
<h2 id="Ad_error_beacons">廣告錯誤信標</h2>

<p>使用SSAI時，VAST廣告錯誤信標有助於主動發現和解決廣告工作流程中的問題。有關詳細信息，請參見<a href="/vod/guides/ad-error-beacons-ssai.html">SSAI的廣告錯誤信標</a>文件。</p>
</section>
</article>

<!-- complete bootstrap layout -->
    </div>
    <div class="col-sm-2 right-side-bar">
      
      <nav class="right-side-nav" id="right_side_nav">
        <h6 class="toc">頁面內容</h6>
        <ul id="in_page_nav" class="list-none"></ul>
      </nav>
      
    </div>
  </div>
</div>

<hr>
<footer class="bcls-footer" role="contentinfo">  <div class="row">
    <div class="region region-footer-top-center col-md-12">
      <nav role="navigation" aria-labelledby="block-brightcovesupport-menu" id="block-brightcovesupport" class="footer-menu">

        <h2>布萊特灣支援</h2>

        <ul class="menu">
          <li>
            <a href="https://status.brightcove.com">系統狀態</a>
          </li>
          <li>
            <a href="https://supportportal.brightcove.com/s/login/?">聯絡支援</a>
          </li>
          <li>
            <a href="https://support.brightcove.com/">文獻資料</a>
          </li>
        </ul>

      </nav>
      <nav role="navigation" aria-labelledby="block-training-menu" id="block-training" class="footer-menu">

        <h2>訓練</h2>

        <ul class="menu">
          <li>
            <a href="https://studio.support.brightcove.com/training/online-training-courses.html">線上課程</a>
          </li>
          <li>
            <a href="https://studio.support.brightcove.com/training/register-training.html">註冊課程</a>
          </li>
          <li>
            <a href="https://university.brightcove.com/">布萊特灣大學</a>
          </li>
        </ul>

      </nav>
      <nav role="navigation" aria-labelledby="block-brightcove-menu" class="footer-menu">

        <h2>Brightcove</h2>

        <ul class="menu">
          <li>
            <a href="https://www.brightcove.com">亮麗</a>
          </li>
          <li>
            <a href="https://supportportal.brightcove.com/s/login/?">聯絡我們</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <div class="row">
    <div class="region region-footer-bottom-center col-md-12">
      <div class="bcls-copyright footer-menu">
        <table>
          <tr>
            <td>
              <div id="bc_copyright" class="field field--name-field-copyright-year field--type-string field--label-hidden field--item" style="float: left;"> 布萊特灣公司版權所有</div>
            </td>
            <td><a href="https://www.brightcove.com/en/legal/privacy">私隱</a> | 條<a href="https://www.brightcove.com/en/terms-and-conditions">款及細則</a></td>
            <td>
              <div class="gf-links-cols footer-menu">
                <div class="gf-social"><a href="https://www.linkedin.com/company/16439" title="LinkedIn" newtab="newtab" class="gf-social-linkedin"><i class="fab fa-linkedin-in" style="font-size: 1.5rem;"></i></a><a href="https://twitter.com/brightcove" title="Twitter" newtab="newtab" class="gf-social-twitter"><i class="fab fa-twitter" style="font-size: 1.5rem;"></i></a><a href="https://www.facebook.com/Brightcove" title="Facebook" newtab="newtab" class="gf-social-facebook"><i class="fab fa-facebook-f" style="font-size: 1.5rem;"></i></a>
                </div>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</footer>

<script>
      
  var searchBox = sajari.init({
    mode: "search-box",
    project: "1588255093746585379", // Set this to your project.
    collection: "brightcove-documenation", // Set this to your collection.
    instantPipeline: "autocomplete", // Pipeline used as you type
    inputPlaceholder: "Search", // Input element placeholder
    maxSuggestions: 5, // Maximum number of suggestions to show
    attachSearchBox: document.getElementById("nav-search-box") // DOM element to attach to
  });
  
    searchBox("sub", "pipeline.search-sent", function (_, query) {
      window.location = "/search.html?q=" + encodeURIComponent(query.q);
    });
  

</script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/https-fix.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/setDate.js"></script>
  
  <script src="https://support.brightcove.com/site-assets/js/site/prism.js"></script>
  
  <script src="https://support.brightcove.com/site-assets/js/site/site.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/tabs.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/toc.js"></script>
  <script src="/assets/js/sites_nav.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/bcls-utils.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/local-link-fix.js"></script>
  <script src="/assets/js/feedback.js"></script>
  
  <script src="/assets/js/sajari-search-foot.js"></script>
  
  <!-- <script src="/assets/js/sajari-index.js"></script> -->
  <style>
    a.sj-paginator__page-number.sj-paginator__page-number--current.css-so0ov7 {
      background-color: lightblue;
    }
    div.sj-tabs__tab {
      margin-top: 3rem;
      margin-left: .3rem;
      border-top-left-radius: .4rem;
      border-top-right-radius: .4rem;
      background-color:#e8e8e8;
    }

    div.sj-tabs__tab.sj-tabs__tab--selected {
      border-bottom-color: crimson;
      background-color: #f8f8f8;
    }

    p.sj-results__result__description.css-p9jvyt {
      font-size: 1rem;
    }

    .sj-result__text.css-31l7gp h3 {
      color: navy;
      font-size: 1.4rem;
    }
    </style>

</body>

</html>
