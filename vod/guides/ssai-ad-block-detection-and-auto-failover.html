---
title: 'SSAI：廣告攔截檢測和自動故障轉移'
description:在本主題中，您將了解如何在檢測到廣告攔截器時打開 Brightcove 播放器的自動故障轉移設置以請求 SSAi（服務器端廣告插入）廣告。
parent: Video-On-Demand
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="overview">概述</h2>

<p>開啟廣告容錯移轉時，當 Brightcove 播放程式偵測到瀏覽器中存在的廣告攔截器時，播放器將自動要求 SSAI 串流。否則，它會使用 IMA 廣告。</p>

<aside class="bcls-aside bcls-aside--information">
<p>SSAI AD 容錯移轉需要下列項目：</p>

<ul>
	<li>IMA3 外掛程式</li>
	<li>SSAI 外掛程式</li>
	<li>布萊特灣玩家版本 6.8.0+</li>
</ul>
</aside>

<h3>警告</h3>

<ul>
	<li>廣告攔截器檢測非常可靠，但不是 100％。</li>
	<li>使用此功能的客戶必須使用動態傳遞。</li>
	<li>僅支援 IMA 和 SSAI 外掛程式 (不支援飛輪)。</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Player_sample">播放器樣本</h2>

<p>以下是設定 IMA3 廣告的範例播放器，當瀏覽器中偵測到廣告攔截器時，會自動容錯移轉至伺服器端廣告。</p>

<ul>
	<li>
	<p><strong>沒有廣告攔截器</strong></p>

	<p>如果您在沒有廣告封鎖程式的瀏覽器中執行下列 Codeen 範例，您應該會看到 Google 提供的可略過的 DFP 內嵌廣告。以下是 IM3 用戶端預先播放廣告：</p>

	<p><img alt="Client-side ad" src="//learning-services-media.brightcove.com/doc-assets/player-development/plugins/ssai/dfp-ad.png" /></p>
	</li>
	<li>
	<p><strong>帶有廣告攔截器</strong></p>

	<p>如果您使用廣告封鎖程式在瀏覽器中執行以下 Codeen 範例，您應該會看到數位行銷廣告的 Brightcove 指南。這是我們廣告配置中定義的伺服器端廣告 (SSAI)：</p>

	<p><img alt="Server-side ad" src="//learning-services-media.brightcove.com/doc-assets/player-development/plugins/ssai/bc-ad.png" /></p>
	</li>
</ul>

<p>請嘗試執行下面的 Codeen 範例，並且不使用廣告封鎖程式。</p>

<p data-height="488" data-theme-id="34967" data-slug-hash="LMZKqB" data-default-tab="result" data-user="rcrooks1969" data-pen-title="SSAI Auto-Failover" class="codepen">看筆<a href="https://codepen.io/team/rcrooks1969/pen/LMZKqB/">SSAI自動故障轉移</a>通過Brightcove學習服務（<a href="https://codepen.io/rcrooks1969"> @ rcrooks1969</a>） 上<a href="https://codepen.io">密碼筆</a>。</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script></section>

<section class="bcls-section">
<h2 id="Getting_started">開始使用</h2>

<p>若要從 Video Cloud 播放伺服器端廣告，您必須遵循下列步驟：</p>

<ol class="bcls-tasklist-restart">
	<li><a href="#Create_an_ad_configuration">創建廣告配置</a></li>
	<li><a href="#Create_a_Brightcove_player">創建一個Brightcove播放器</a></li>
	<li><a href="#Implementing_autofailover_using_Studio">使用Studio實施自動故障轉移</a></li>
</ol>

<h3 id="Create_an_ad_configuration">建立廣告組態</h3>

<p>廣告設定定義 SSAI 播放的各個層面，包括廣告呼叫、信標和其他組態選項。您的廣告回應可以是 VAST、VMAP 或 DFP 廣告規則。若要建立廣告設定，請依照下列步驟執行：</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>在Video Cloud Studio中，展開<strong>行政</strong>菜單並選擇<strong>服務器端廣告設置</strong>。</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Ad configuration admin" src="//learning-services-media.brightcove.com/doc-assets/player-development/plugins/ssai/ad-config-admin.png" />
	<figcaption class="bcls-caption--image">廣告設定管理員</figcaption>
	</figure>
	</li>
	<li>
	<p>添加廣告配置信息，然後選擇<strong>保存</strong>。</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Ad settings" src="//learning-services-media.brightcove.com/doc-assets/player-development/plugins/ssai/ad-settings.png" />
	<figcaption class="bcls-caption--image">廣告設定</figcaption>
	</figure>
	</li>
</ol>

<p>有關詳細信息，請參見<a href="https://studio.support.brightcove.com/admin/configuring-server-side-ad-settings.html">配置服務器端廣告設置</a>文檔。</p>

<p>要使用SSAI API創建廣告配置，請參見<a href="https://ssai.support.brightcove.com/vod/guides/video-cloud-ssai-ad-config-api.html">視頻雲SSAI廣告配置API</a>文檔。</p>

<h3 id="Create_a_Brightcove_player">建立布萊特灣玩家</h3>

<p>創建一個新的布萊特灣播放器使用視頻雲工作室。有關詳細信息，請參見<a href="https://studio.support.brightcove.com/basics/video-cloud-basics-creating-player.html">快速開始：創建播放器和样式</a>文檔。</p>

<aside class="bcls-aside bcls-aside--information">您必須使用 Brightcove Player 版本 6.8.0+。</aside>
</section>

<section class="bcls-section">
<h2 id="Implementing_autofailover_using_Studio">使用 Studio 實作自動容錯移轉</h2>

<p>若要設定播放器的自動容錯移轉廣告，最簡單的方法就是使用 Video Cloud Studio。一旦您創建了廣告配置和播放器，那麼您就可以準備好配置播放器進行自動容錯移轉，如下所示：</p>

<ol class="bcls-tasklist-restart">
	<li>打開<strong>選手們</strong>模塊並找到要向其添加廣告功能的播放器。</li>
	<li>選取播放程式的連結，以開啟播放程式的內容。</li>
	<li>選擇<strong>廣告</strong>在左側導航菜單中。</li>
	<li>檢查<strong>啟用客戶端（IMA）</strong>複選框。</li>
	<li>
	<p>請加入 IMA 廣告代碼的網址。在此範例中，我們將使用範例廣告代碼 URL。</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Enable client-side ads" src="//learning-services-media.brightcove.com/doc-assets/player-development/plugins/ssai/enable-client-side.png" />
	<figcaption class="bcls-caption--image">啟用用戶端廣告</figcaption>
	</figure>

	<p>有關播放器廣告屬性的詳細信息，請參見<a href="https://studio.support.brightcove.com/players/configuring-player-advertising-using-players-module.html">使用播放器模塊配置播放器廣告</a>文檔。</p>
	</li>
	<li>
	<p>檢查<strong>啟用服務器端（SSAI）</strong>複選框。</p>

	<aside class="bcls-aside bcls-aside--information">除非您的帳戶已啟用 SSAI，否則不會出現服務器端選項。</aside>
	</li>
	<li>來自<strong>選擇配置</strong>下拉菜單中，選擇要與此播放器關聯的廣告配置。</li>
	<li>如果您希望在廣告上展示重疊式廣告，請選中<strong>啟用廣告信息疊加層</strong>複選框。這包括「進一步了解」和廣告倒數疊加層。</li>
	<li>
	<p>當您同時啟用用戶端和伺服器端廣告時，會自動啟用具有伺服器端廣告容錯移轉的廣告封鎖偵測。</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="SSAI advertising in Players module" src="//learning-services-media.brightcove.com/doc-assets/player-development/plugins/ssai/enable-ssai.png" />
	<figcaption class="bcls-caption--image">播放器模組中的 SSAI 廣告</figcaption>
	</figure>
	</li>
	<li>選擇<strong>保存</strong>。</li>
	<li>
	<p>要發布播放器，請選擇<strong>發布和嵌入&gt;發布更改</strong>。</p>

	<p>這就是為您的播放器啟用自動容錯移轉功能所需要做的一切。</p>
	</li>
</ol>

<h3 id="Play_a_video_with_ads">使用廣告播放影片</h3>

<p>您從 Video Cloud 擷取的任何影片，而且已透過「動態傳遞」內嵌，在沒有偵測到廣告攔截程式時，都會包含用戶端 IMA 廣告。偵測到廣告攔截器時，您的影片會在您的廣告設定中包含 VMAP 檔案中指定的伺服器端廣告。請注意，視訊需要有與其相關聯的音軌，SSAI 才能運作。</p>
</section>
</article>