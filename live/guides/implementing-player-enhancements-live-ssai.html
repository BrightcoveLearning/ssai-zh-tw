---
title: '為 Live SSAI 實施播放器增強功能' 
description:在本主題中，您將學習如何使用服務器端廣告創建實時流，這些廣告利用 Live SSAI 的播放器增強功能來改善用戶體驗。
parent: Live
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Introduction">簡介</h2> 

<p>Brightcove的Live SSAI播放器增強功能可讓您通過廣告計數，廣告倒數計時器，點擊廣告和隨播廣告來改善實時流中的廣告間隔。</p>

<p>您的廣告信息是使用廣告配置指定的，該配置可檢索VAST響應以標識要顯示的廣告。VAST文件還包含有關隨播廣告和信標網址的信息。</p>

<aside class="bcls-aside bcls-aside--information">目前，此功能僅適用於以下地區：
  <ul>
    <li>AP-東南部一號 (新加坡)</li>
    <li>AP-東南部 2 號 (悉尼)</li>
    <li>ap-東北 1 (東京)</li>
    <li>eu-central-1（法蘭克福）</li>
    <li>us-west-2（俄勒岡）</li>
  </ul>
   有關高級概述和其他限制，請參見<a href="https://ssai.support.brightcove.com/live/guides/overview-player-enhancements-live-ssai.html">概述：Live SSAI 的播放器增強功能文檔</a>。</aside>
</section>

<section class="bcls-section">
<h2 id="Workflow">工作流程</h2>

<p>要使用SSAI和播放器增強功能創建實時流，請按照以下步驟操作：</p>

<ol class="bcls-tasklist">
	<li>請您的客戶經理為您的帳戶啟用實時流，服務器端廣告插入（SSAI）和實時SSAI的播放器增強功能。</li>
	<li><a href="#Create_an_ad_configuration">創建廣告配置</a></li>
	<li>可選的：<a href="https://live.support.brightcove.com/live-api/ssai/live-api-server-side-ad-insertion-ssai.html#Managing_slates">創建板岩資產以填充未使用的廣告時間</a></li>
	<li><a href="#Create_a_live_job">創建現場工作</a></li>
	<!-- <li><a href="#Create_a_remote_video">Create a remote video</a></li> -->
	<li><a href="#Create_the_playback_token">創建播放令牌</a></li>
  <li><a href="#Configure_the_player">配置播放器</a></li>
	<li><a href="#Begin_streaming">開始流式傳輸</a></li>
	<li><a href="https://live.support.brightcove.com/live-api/ssai/live-api-cue-points-and-ad-beacons-ssai.html">使用提示點觸發廣告</a>（可以在直播活動之前或之中進行）</li>
	<li><a href="#Cleanup">清理</a></li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Create_an_ad_configuration">建立廣告組態</h2>

<p>廣告配置定義了將服務器端廣告包含在實時流中所需的信息。這包括廣告提供商的網址，預期的廣告響應類型以及是否應發送信標。</p>

<aside class="bcls-aside bcls-aside--information">筆記：
  <ul>
    <li>來自Video Cloud的廣告配置ID不能直接用於Live SSAI</li>
    <li>您使用Video Cloud Studio對廣告配置進行的任何更改都會刪除<code translate="No">client_options</code>旗;這是一個已知的問題</li>
  </ul>
</aside>

<p>要創建新的廣告配置，請發送一個<code translate="No">POST</code>要求如下：</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>方法</th>
			<td style="width:80em;"><code class="language-http" translate="No">POST</code></td>
		</tr>
		<tr>
			<th>網址</th>
			<td><code class="language-http" translate="No">https://api.bcovlive.io/v1/ssai/applications</code></td>
		</tr>
		<tr>
			<th rowspan="2">標頭</th>
			<td><code class="language-http" translate="No">X-API-KEY: <span class="bcls-input">your API KEY</span></code></td>
		</tr>
    <tr>
				<td>內容類型：application / json</td>
			</tr>
	</tbody>
</table>
<br>

<p>設置帳戶後，將使用提供給您的API密鑰對所有請求進行身份驗證。密鑰在<code translate="No">X-API-KEY</code>標頭。</p>

<h3>要求正文</h3>
<p>有關請求正文字段的詳細信息，請參見<a href="https://live.support.brightcove.com/live-api/references/reference.html#operation/CreateAdConfiguration">實時API參考</a>文檔。</p>

<p>借助Live SSAI的播放器增強功能，突出顯示的字段可以在<code translate="No">application_ad_configuration</code>目的。</p>

<p>樣品請求正文：</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
  "application_ad_configuration": {
	"ad_configuration_description": "<span class="bcls-input">your ad config description</span>",
<span class="bcls-highlight">    "ad_configuration_expected_response_type": "Vast",</span>
	"ad_configuration_headers_for_impressions": false,
	"ad_configuration_strategy": "SingleAdResponse",
	"ad_configuration_transforms": [],
	"ad_configuration_url_format": "<span class="bcls-input">your ad server</span>",
<span class="bcls-highlight">    "ad_configuration_client_sdk_enabled": true,
    "client_options": {
      "show_ad_break_remaining_time": <span class="bcls-input">true / false</span>,
      "show_ad_remaining_time": <span class="bcls-input">true / false</span>,
      "show_number_of_remaining_ads": <span class="bcls-input">true / false</span>,
      "client_only_tracking": <span class="bcls-input">true / false</span>
    }</span>
  },
  "application_description": "<span class="bcls-input">your application description</span>"
}</code></pre>

<p>以下是與Live SSAI播放器增強功能相關的廣告配置字段：</p>
<table class="bcls-table">
  <thead class="bcls-table__head">
    <tr>
      <th>欄位</th>
      <th>類型</th>
      <th>必要</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody class="bcls-table__body">
    <tr>
      <td><code translate="No">ad_configuration_expected_response_type</code></td>
      <td>字串</td>
      <td>是</td>
      <td>要使用此功能，廣告配置的值必須為<code translate="No">Vast</code></td>
    </tr>
    <tr>
      <td><code translate="No">ad_configuration_client_sdk_enabled</code></td>
      <td>布林</td>
      <td>是</td>
      <td>要啟用此功能，此字段的值必須為<code translate="No">true</code></td>
    </tr>
    <tr>
      <td><code translate="No">client_options</code></td>
      <td>物件</td>
      <td></td>
      <td>與玩家增強相關的字段的對象</td>
    </tr>
    <tr>
      <td><code translate="No">client_options.<br> show_ad_break_remaining_time</code></td>
      <td>布林</td>
      <td></td>
      <td>顯示廣告中斷的剩餘時間
        <br>
        價值觀：<code translate="No">true</code> / <code translate="No">false</code>
      </td>
    </tr>
    <tr>
      <td><code translate="No">client_options.<br> show_ad_remaining_time</code></td>
      <td>布林</td>
      <td></td>
      <td>廣告的剩餘顯示時間
        <br>
        價值觀：<code translate="No">true</code> / <code translate="No">false</code>
      </td>
    </tr>
    <tr>
      <td><code translate="No">client_options.<br> show_number_of_remaining_ads</code></td>
      <td>布林</td>
      <td></td>
      <td>顯示廣告插播中剩餘的廣告數量
        <br>
        價值觀：<code translate="No">true</code> / <code translate="No">false</code>
      </td>
    </tr>
    <tr>
      <td><code translate="No">client_options.<br> client_only_tracking</code></td>
      <td>布林</td>
      <td></td>
      <td>禁用服務器端跟踪事件（展示次數/四分位數）
        <br>
        價值觀：<code translate="No">true</code> / <code translate="No">false</code> 
        <br>默認：<code translate="No">false</code>
        <br><br>
        <aside class="bcls-aside bcls-aside--information">什麼時候<code translate="No">true</code>，我們對廣告展示的正常處理被繞過，而是由客戶端觸發。這樣可以使印象更加準確/及時，但是我們不再可以看到跟踪事件。特定廣告封鎖程式也可以封鎖用戶端廣告。</aside> 
      </td>
    </tr>
  </tbody>
</table>
<br>
<aside class="bcls-aside bcls-aside--tip">全部<code translate="No">client_options</code>字段是可選的。僅有的<code translate="No">client_only_tracking</code>有一個默認值<code translate="No">false</code>.</aside>

<h3>回應</h3>
<p>樣本回复：</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
  "application": {
    "application_description": "Test ad configuration",
    "application_ad_configuration": {
    "ad_configuration_description": "Ad config description",
    "ad_configuration_expected_response_type": "Vast",
    "ad_configuration_strategy": "SingleAdResponse",
    "ad_configuration_transforms": [],
    "ad_configuration_url_format": "https://solutions.brightcove.com/bcls/ads/simple-vast.xml",
    "ad_configuration_headers_for_impressions": false,
    "ad_configuration_client_sdk_enabled": true,
    "client_options": {
      "show_ad_break_remaining_time": true,
      "show_ad_remaining_time": true,
      "show_number_of_remaining_ads": true,
      "client_only_tracking": true
    }
    },
    "application_id": "1234567890abcdefghijkl",
    "application_type": "ads",
    "account_id": "001122334455aabbccddee"
  },
  "action": "inserted"
}</code></pre>

<p>成功創建廣告配置後，請複制<code translate="No">application_id</code>（廣告配置ID）已生成。稍後將需要使用它來查找SSAI播放URL。</p>

<p>要列出，更新和刪除廣告配置，請參見<a href="https://live.support.brightcove.com/live-api/ssai/live-api-server-side-ad-insertion-ssai.html#Create_an_ad_configuration">管理廣告配置</a>文檔</p>
</section>

<section class="bcls-section">
<h2 id="Create_a_live_job">創建現場工作</h2>

<p>要創建現場工作，請發送<code translate="No">POST</code>要求如下：</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>方法</th>
			<td style="width:80em;"><code class="language-http" translate="No">POST</code></td>
		</tr>
		<tr>
			<th>網址</th>
			<td><code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs</code></td>
		</tr>
		<tr>
			<th rowspan="2">標頭</th>
			<td><code class="language-http" translate="No">X-API-KEY: <span class="bcls-input">your API KEY</span></code></td>
		</tr>
    <tr>
				<td>內容類型：application / json</td>
			</tr>
	</tbody>
</table>

<h3>要求正文</h3>

<p>有關請求正文字段的詳細信息，請參見<a href="https://live.support.brightcove.com/live-api/references/reference.html#operation/CreateALiveJob">實時API參考</a>文檔。</p>

<p>對於啟用了SSAI的現場作業，請設置<code translate="No">ad_insertion: true</code>在您的HTTP請求正文中。</p>

<details>
  <summary>樣品要求（視頻雲視頻）</summary>
  <p>要創建用於直播的Video Cloud視頻，並從直播中創建VOD剪輯，請包括<code translate="No">videocloud</code>請求主體中的對象。有關詳細信息，請參見<a href="https://live.support.brightcove.com/live-api/guides/live-api-creating-vod-clips.html">實時API：創建VOD剪輯</a>文檔。</p>
  <p>服務器端廣告插入（SSAI）需要以下突出顯示的字段。</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "live_stream": true,
  <span class="bcls-highlight">"ad_insertion": true,</span>
  "region": "us-west-2",
  "reconnect_time": 1800,
  "outputs": [{
      "label": "hls720p",
      "live_stream": true,
      "width": 1280,
      "height": 720,
      "video_codec": "h264",
      "h264_profile": "high",
      "video_bitrate": 2100,
      "segment_seconds": 4,
      "keyframe_interval": 60
    },
    {
      "label": "hls540p",
      "live_stream": true,
      "width": 960,
      "height": 540,
      "video_codec": "h264",
      "h264_profile": "main",
      "video_bitrate": 1500,
      "segment_seconds": 4,
      "keyframe_interval": 60
    },
    {
      "label": "hls360p",
      "live_stream": true,
      "width": 640,
      "height": 360,
      "video_codec": "h264",
      "h264_profile": "main",
      "video_bitrate": 800,
      "segment_seconds": 4,
      "keyframe_interval": 60
    }
  ],
  "videocloud": {
    "video": {
      "name": "Live SSAI VideoCloud Asset",
      "description": "",
      "long_description": "",
      "tags": [],
      "reference_id": "live_ssai_vc_asset",
      "link": {
      "url": "",
      "text": ""
    },
    "schedule": {
      "starts_at": null,
      "ends_at": null
    },
    "custom_fields": {}
    }
  }
}</code></pre>
</details>
<br>

<details>
  <summary>樣品申請（遠程視頻）</summary>
  <p>要將遠程視頻用於實時流，您的請求正文應類似於此。</p>
  <p>服務器端廣告插入（SSAI）需要以下突出顯示的字段。</p>

  <pre class="line-numbers">
<code class="language-json" translate="No">{
  "live_stream":true,
  <span class="bcls-highlight">"ad_insertion":true,</span>
  "region":"us-west-2",
  "reconnect_time":1800,
  "outputs":[
    {
      "label": "hls720p",
      "live_stream": true,
      "width": 1280,
      "height": 720,
      "video_codec": "h264",
      "h264_profile": "high",
      "video_bitrate": 2100,
      "segment_seconds": 4,
      "keyframe_interval": 60
    },
    {
      "label": "hls540p",
      "live_stream": true,
      "width": 960,
      "height": 540,
      "video_codec": "h264",
      "h264_profile": "main",
      "video_bitrate": 1500,
      "segment_seconds": 4,
      "keyframe_interval": 60
    },
    {
      "label": "hls360p",
      "live_stream": true,
      "width": 640,
      "height": 360,
      "video_codec": "h264",
      "h264_profile": "main",
      "video_bitrate": 800,
      "segment_seconds": 4,
      "keyframe_interval": 60
    }
  ]
}</code></pre>
</details>
<br>


<p>其他有用的資源：</p>

<ul>
	<li><a href="https://live.support.brightcove.com/live-api/getting-started/overview-brightcove-live-api.html">概述：Brightcove Live API</a></li>
	<li><a href="https://live.support.brightcove.com/live-api/getting-started/quick-start-create-live-stream-using-brightcove-live-api.html">快速開始：使用Brightcove Live API創建直播</a></li>
</ul>

<h3>回應</h3>

<details>
  <summary>樣本響應（視頻雲視頻）</summary>
  <pre class="line-numbers">
<code class="language-json" translate="No">{
 <span class="bcls-highlight">&quot;id&quot;: &quot;227356abcdefghijklmno12345&quot;,</span>
 &quot;outputs&quot;: [
  {
   &quot;id&quot;: &quot;0-2273561a201ec18&quot;,
   &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_0/chunklist.m3u8&quot;,
   &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_0/chunklist_dvr.m3u8&quot;,
   &quot;playback_url_vod&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_0/chunklist_vod.m3u8&quot;,
   &quot;playback_added_cdns&quot;: [],
   &quot;label&quot;: &quot;hls720p&quot;
  },
  {
   &quot;id&quot;: &quot;1-2273561a201e8c18&quot;,
   &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_1/chunklist.m3u8&quot;,
   &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_1/chunklist_dvr.m3u8&quot;,
   &quot;playback_url_vod&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_1/chunklist_vod.m3u8&quot;,
   &quot;playback_added_cdns&quot;: [],
   &quot;label&quot;: &quot;hls540p&quot;
  },
  {
   &quot;id&quot;: &quot;2-2273561a201ec18&quot;,
   &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_2/chunklist.m3u8&quot;,
   &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_2/chunklist_dvr.m3u8&quot;,
   &quot;playback_url_vod&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_2/chunklist_vod.m3u8&quot;,
   &quot;playback_added_cdns&quot;: [],
   &quot;label&quot;: &quot;hls360p&quot;
  },
  {
   &quot;id&quot;: &quot;3-2273561a201ec18&quot;,
   &quot;playlist_type&quot;: &quot;defaultS3&quot;,
   &quot;type&quot;: &quot;playlist&quot;,
   &quot;filename&quot;: &quot;playlist.m3u8&quot;,
   &quot;dvr_filename&quot;: &quot;playlist_dvr.m3u8&quot;,
   &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/playlist.m3u8&quot;,
   &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/playlist_dvr.m3u8&quot;,
   &quot;ssai_playback_urls&quot;: {
    &quot;b907ac7935e2&quot;: {
     &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/b907ac7935e2/playlist_ssaiM.m3u8&quot;,
     &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/b907ac7935e2/playlist_dvr_ssaiM.m3u8&quot;,
     &quot;playback_added_cdns&quot;: [],
     &quot;description&quot;: &quot;Test ad configuration for SLS&quot;,
     &quot;type&quot;: &quot;ads&quot;
    },
    &quot;dc9aa8ee3520f2&quot;: {
     &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/dc9aa8ee3520f2/playlist_ssaiM.m3u8&quot;,
     &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/dc9aa8ee3520f2/playlist_dvr_ssaiM.m3u8&quot;,
     &quot;playback_added_cdns&quot;: [],
     &quot;description&quot;: &quot;Test live ad config for SLS&quot;,
     &quot;type&quot;: &quot;ads&quot;
    }
   },
   &quot;playback_added_cdns&quot;: []
  }
 ],
 <span class="bcls-highlight">&quot;stream_url&quot;: &quot;rtmp://ec2-54-184-149-60.us-west-2.compute.amazonaws.com:1935/2273561a201ec18&quot;,
 &quot;stream_name&quot;: &quot;alive&quot;,</span>
 &quot;static&quot;: false,
 <span class="bcls-highlight">&quot;job_videocloud_asset_id&quot;: &quot;6227380655001&quot;,</span>
 &quot;encryption&quot;: {},
 &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/playlist.m3u8&quot;,
 &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/playlist_dvr.m3u8&quot;,
 &quot;ssai_playback_urls&quot;: {
  &quot;b907ac7935e2&quot;: {
   &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/b907ac7935e2/playlist_ssaiM.m3u8&quot;,
   &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/b907ac7935e2/playlist_dvr_ssaiM.m3u8&quot;,
   &quot;playback_added_cdns&quot;: [],
   &quot;description&quot;: &quot;Test ad configuration for SLS&quot;,
   &quot;type&quot;: &quot;ads&quot;
  },
  &quot;dc9aa8ee3520f2&quot;: {
   &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/dc9aa8ee3520f2/playlist_ssaiM.m3u8&quot;,
   &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/dc9aa8ee3520f2/playlist_dvr_ssaiM.m3u8&quot;,
   &quot;playback_added_cdns&quot;: [],
   &quot;description&quot;: &quot;Test live ad config for SLS&quot;,
   &quot;type&quot;: &quot;ads&quot;
  }
 },
 &quot;playback_added_cdns&quot;: []
}</code></pre>
</details>
<br>

<details>
  <summary>樣本響應（遠程視頻）</summary>
  <pre class="line-numbers">
<code class="language-json" translate="No">{
 <span class="bcls-highlight">"id": "bbccddeeffgghhiijjkk0011223344",</span>
 "outputs": [
  {
   "id": "0-bbccddeeffgghhiijjkk0011223344",
   "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_0/chunklist.m3u8",
   "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_0/chunklist_dvr.m3u8",
   "playback_url_vod": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_0/chunklist_vod.m3u8",
   "playback_added_cdns": [],
   "label": "hls720p"
  },
  {
   "id": "1-bbccddeeffgghhiijjkk0011223344",
   "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_1/chunklist.m3u8",
   "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_1/chunklist_dvr.m3u8",
   "playback_url_vod": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_1/chunklist_vod.m3u8",
   "playback_added_cdns": [],
   "label": "hls540p"
  },
  {
   "id": "2-bbccddeeffgghhiijjkk0011223344",
   "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_2/chunklist.m3u8",
   "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_2/chunklist_dvr.m3u8",
   "playback_url_vod": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_2/chunklist_vod.m3u8",
   "playback_added_cdns": [],
   "label": "hls360p"
  },
  {
   "id": "3-bbccddeeffgghhiijjkk0011223344",
   "playlist_type": "defaultS3",
   "type": "playlist",
   "filename": "playlist.m3u8",
   "dvr_filename": "playlist_dvr.m3u8",
   "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/playlist.m3u8",
   "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/playlist_dvr.m3u8",
   "ssai_playback_urls": {
    "91bc2d5ff4a4441db34c2457c751c3ca": {
     "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/91bc2d5ff4a4441db34c2457c751c3ca/playlist_ssaiM.m3u8",
     "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/91bc2d5ff4a4441db34c2457c751c3ca/playlist_dvr_ssaiM.m3u8",
     "playback_added_cdns": [],
     "description": "Test ad configuration",
     "type": "ads"
    },
    "e7f6e9a3022a45e1b0b322ba57399150": {
     "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/e7f6e9a3022a45e1b0b322ba57399150/playlist_ssaiM.m3u8",
     "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/e7f6e9a3022a45e1b0b322ba57399150/playlist_dvr_ssaiM.m3u8",
     "playback_added_cdns": [],
     "description": "House Ads - 0077db20eb444b5daa7487438c90a271",
     "type": "ads"
    }
   }
  }
 ],
 <span class="bcls-highlight">"stream_url": "rtmp://ep4-usw2.bcovlive.io:1935/bbccddeeffgghhiijjkk0011223344",
 "stream_name": "alive",</span>
 "static": false,
 "encryption": {},
 "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/playlist.m3u8",
 "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/playlist_dvr.m3u8",
 "ssai_playback_urls": {
  "91bc2d5ff4a4441db34c2457c751c3ca": {
   "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/91bc2d5ff4a4441db34c2457c751c3ca/playlist_ssaiM.m3u8",
   "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/91bc2d5ff4a4441db34c2457c751c3ca/playlist_dvr_ssaiM.m3u8",
   "playback_added_cdns": [],
   "description": "Test ad configuration",
   "type": "ads"
  }
 }
}</code></pre>
</details>
<br>

<p>在API響應中，記下下一步的以下字段值：</p>
<ul>
  <li><code translate="No">id</code> -您的現場工作ID</li>
  <li><code translate="No">stream_url</code>，<code translate="No">stream_name</code> -直播編碼器的輸入</li>
  <li><code translate="No">job_videocloud_asset_id</code> -視頻雲視頻ID</li>
</ul>

<!-- <p>From the API response, make note of the job <code translate="No">id</code> and the <code translate="No">stream_url</code> properties. You will need these later.</p>

<p>In the response body, there will be an object containing SSAI information for each ad configuration in your account. The sample above shows the object for one ad configuration. This should be the ad configuration id you created in the previous step.</p>

<p>The <code translate="No">playback_url</code> or <code translate="No">playback_url_dvr</code> field associated with your ad configuration id is used in the next step to create a remote video asset.</p>
<p>Playback URLs:</p>
<ul>
  <li>URLs with either <code translate="No">playlist.m3u8</code> or <code translate="No">playlist_dvr.m3u8</code> provide non-SSAI playback</li>
  <li>URLs with either <code translate="No">playlist_ssaiM.m3u8</code> or <code translate="No">playlist_dvr_ssaiM.m3u8</code> provide SSAI playback</li>
</ul> -->
</section>

<!-- <section class="bcls-section">
<h2 id="Create_a_remote_video">Create a remote video</h2>

<p>In Video Cloud, you will create a remote video which points to your live stream. For this step, you will need the <code translate="No">playback_url</code> or <code translate="No">playback_url_dvr</code> from the previous step.</p>

<p>There are two ways to create a remote video:</p>

<ul>
	<li><a href="https://studio.support.brightcove.com/media/working-remote-asset-videos.html">Working with Remote Asset Videos</a></li>
	<li><a href="https://apis.support.brightcove.com/cms/managing-videos/using-cms-api-remote-assets.html">Remote Assets using the CMS API</a></li>
</ul>
</section> -->

<section class="bcls-section">
<h2 id="Create_the_playback_token">創建播放令牌</h2>
<p>您將需要播放器附帶播放令牌。</p>
<p>要創建播放令牌，請發送一個<code translate="No">POST</code>要求如下：</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>方法</th>
			<td style="width:80em;"><code class="language-http" translate="No">POST</code></td>
		</tr>
		<tr>
			<th>網址</th>
			<td><code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/<span class="bcls-input">your live job id</span>/playback-token</code></td>
		</tr>
		<tr>
			<th rowspan="2">標頭</th>
			<td><code class="language-http" translate="No">X-API-KEY: <span class="bcls-input">your API KEY</span></code></td>
		</tr>
    <tr>
				<td>內容類型：application / json</td>
			</tr>
	</tbody>
</table>

<h4>要求正文</h4>
<p>樣品請求正文：</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
   "dvr":true / false,
   "application_id":"<span class="bcls-input">your ad config id</span>"
}</code></pre>

<h4>回應</h4>
<p>樣本回复：</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
 "playback_token": "live.JhQabcdefghijkl000000000abcdefghi"
}</code></pre>

<p>響應主體將包含一個生成的回放令牌。與播放器進行Playback API調用時，請使用此選項。</p>
</section>

<section class="bcls-section">
<h2 id="Configure_the_player">設定播放程式</h2>

<p>從Playback API播放實時流的過程與播放普通Video Cloud視頻的方式略有不同。除了提供視頻ID（參考ID）之外，您還需要添加一個播放令牌，以標識您要使用的廣告配置。您還需要指定是否要播放DVR。</p>

<h3>網路播放器</h3>

<p>有關配置Brightcove Player的詳細信息，請參見<a href="https://player.support.brightcove.com/advertising/using-player-enhancements-live-ssai-brightcove-player.html">在Brightcove Player中將播放器增強功能用於Live SSAI</a>文檔。</p>

<h3>原生安卓播放器</h3>

<p>有關為Android配置本機播放器的詳細信息，請參見<a href="https://sdks.support.brightcove.com/features/using-player-enhancements-live-ssai-native-sdks.html">將播放器增強功能與本機SDK一起用於Live SSAI</a>文檔。</p>

<h3>原生 iOS 播放器</h3>

<p>有關為iOS配置Native Player的詳細信息，請參閱<a href="https://sdks.support.brightcove.com/features/using-player-enhancements-live-ssai-native-sdks.html">將播放器增強功能與本機SDK一起用於Live SSAI</a>文檔。</p>
</section>

<section class="bcls-section">
<h2 id="Begin_streaming">開始流式傳輸</h2>

<p>有許多工具可以創建直播事件。以下是一些編碼器，可用於生成CDN傳遞的實時流：</p>

<ul>
	<li><a href="https://support.brightcove.com/quick-start-create-live-stream-using-brightcove-live-api#wirecast">Telestream有線廣播編碼器</a></li>
	<li><a href="https://support.brightcove.com/step-step-using-live-module-open-broadcaster-software-obs#encoder">OBS Studio編碼器</a></li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Cleanup">清理</h2>

<p>實時流完成後，可以按以下步驟清理流的工件：</p>

<ol class="bcls-tasklist-restart">
	<li>停止流式編碼器</li>
	<li>
	<p>取消現場作業。</p>

	<aside class="bcls-aside bcls-aside--information">實時作業僅在創建作業時指定的重新連接時間可用。</aside>

	<p>要取消現場工作，請發送<code translate="No">PUT</code>要求如下：</p>

	<table class="bcls-table">
		<tbody class="bcls-table__body">
			<tr>
				<th>方法</th>
				<td style="width:80em;"><code class="language-http" translate="No">PUT</code></td>
			</tr>
			<tr>
				<th>網址</th>
				<td><code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/<span class="bcls-input">your live job id</span>/cancel</code></td>
			</tr>
			<tr>
				<th rowspan="2">標頭</th>
				<td><code class="language-http" translate="No">X-API-KEY: <span class="bcls-input">your API KEY</span></code></td>
			</tr>
      <tr>
				<td>內容類型：application / json</td>
			</tr>
		</tbody>
	</table>
  <br>

	<p>有關詳細信息，請參見<a href="https://live.support.brightcove.com/live-api/references/reference.html#operation/CancelLiveJob">實時API參考</a>文檔。</p>
	</li>
	<li>
	<p>刪除您的廣告配置</p>

	<p>要刪除廣告配置，請發送<code translate="No">DELETE</code>要求如下：</p>

	<table class="bcls-table">
		<tbody class="bcls-table__body">
			<tr>
				<th>方法</th>
				<td style="width:80em;"><code class="language-http" translate="No">PUT</code></td>
			</tr>
			<tr>
				<th>網址</th>
				<td><code class="language-http" translate="No">https://api.bcovlive.io/v1/ssai/applications/application/<span class="bcls-input">your ad config id</span></code></td>
			</tr>
			<tr>
				<th rowspan="2">標頭</th>
				<td><code class="language-http" translate="No">X-API-KEY: <span class="bcls-input">your API KEY</span></code></td>
			</tr>
      <tr>
				<td>內容類型：application / json</td>
			</tr>
		</tbody>
	</table>
  <br>

	<p>有關詳細信息，請參見<a href="https://live.support.brightcove.com/live-api/references/reference.html#operation/DeleteAdConfiguration">實時API參考</a>文檔。</p>
	</li>
</ol>
</section>
</article>
